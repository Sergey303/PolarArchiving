@page "/counter"
@page "/counter/{currentCount:int}"
@* @implement IDisposable *@
@inject NavigationManager NavManager

<h1>Counter</h1>

<p>Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

<hr />

<a href="/Counter">Start counter at 10.</a> |
<a href="/Counter/20">Start counter at 20.</a> |
<a href="/Counter/30">Start counter at 30.</a>

@code {
    [Parameter]
    public int currentCount { get; set; } = 0;
    void IncrementCount()
    {
        currentCount++;
    }
    
    @* protected override void OnInitialized()
    {
        GetQueryStringValues();
        NavManager.LocationChanged += HandleLocationChanged;
    }
    
    void HandleLocationChanged(object sender, LocationChangedEventArgs e)
    {
        GetQueryStringValues();
        StateHasChanged();
    }
    
    void GetQueryStringValues()
    {
        //NavManager.TryGetQueryString<int>("initialCount", out currentCount);
    }

    
    public void Dispose()
    {
        NavManager.LocationChanged -= HandleLocationChanged;
    } *@
}